# Local environment variables for CommercePrototype Backend
# Copy this file to `.env` and fill values for your local environment.
# IMPORTANT: do NOT commit your `.env` file â€” it may contain secrets.

# -------------------------------------------------------------------------
# Quick conventions
# -------------------------------------------------------------------------
# - `./.env` is loaded at startup. Environment variables override values in
#   `appsettings.*.json`.
# - Use DOUBLE-UNDERSCORE (`__`) to map to nested configuration sections.
#   Example: `Sfcc__ApiBaseUrl` => configuration key `Sfcc:ApiBaseUrl`.
# - Keep secrets (OAuth client secret, `Jwt__Key`, etc.) out of source control.

# -------------------------------------------------------------------------
# 1) REQUIRED: Runtime / SFCC connection
# -------------------------------------------------------------------------
# At minimum set `Sfcc__ApiBaseUrl` and `Sfcc__ClientId`. For server-side
# OAuth (recommended) set `Sfcc__OAuthClientId` and `Sfcc__OAuthClientSecret`.
Sfcc__ApiBaseUrl=https://your-instance.dx.commercecloud.salesforce.com
Sfcc__InstanceName=your-instance.dx.commercecloud.salesforce.com
Sfcc__SiteId=RefArch
Sfcc__ApiVersion=v20_4
Sfcc__ClientId=your-public-shop-client-id
Sfcc__OAuthTokenUrl=https://account.demandware.com/dw/oauth2/access_token

# Confidential (server-side only) - DO NOT commit these to source control
Sfcc__OAuthClientId=your-confidential-client-id
Sfcc__OAuthClientSecret=your-confidential-client-secret

# Back-compat (optional): older deployments may use these instead of OAuth
# Sfcc__TrustedSystemLogin=your-confidential-client-id
# Sfcc__TrustedSystemPassword=your-confidential-client-secret

# -------------------------------------------------------------------------
# 2) Session store
# -------------------------------------------------------------------------
# Use Redis for multi-process or cloud environments. Leave empty to use the
# in-memory distributed cache (local dev only).
SessionStore__RedisConnectionString=localhost:6379

# -------------------------------------------------------------------------
# 3) Authentication (JWT)
# -------------------------------------------------------------------------
# `Jwt__Key` is the symmetric signing key for tokens. Use a secure secret
# (recommended length 32+ characters). Keep it out of source control.
Jwt__Key=dev-secret-key-change-me-please-32chars
Jwt__Issuer=CommercePrototype
Jwt__Audience=CommercePrototype
Jwt__ExpiresMinutes=60

# -------------------------------------------------------------------------
# 4) Observability / Sentry
# -------------------------------------------------------------------------
# Set `SENTRY_DSN` to enable Sentry error reporting and tracing. In development
# you can enable `SENTRY_DEBUG=1` to send a startup test message.
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.0
SENTRY_DEBUG=0

# -------------------------------------------------------------------------
# 5) Local dev helpers
# -------------------------------------------------------------------------
# Optional: override kestrel urls for local testing
# ASPNETCORE_URLS=http://0.0.0.0:5035
